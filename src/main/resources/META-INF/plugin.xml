<!-- Plugin Configuration File. Read more: https://plugins.jetbrains.com/docs/intellij/plugin-configuration-file.html -->
<idea-plugin>
  <id>org.aya.intellij</id>
  <name>Aya Prover</name>
  <vendor>Aya Prover</vendor>

  <depends>com.intellij.modules.platform</depends>
  <depends>com.intellij.java</depends>

  <extensions defaultExtensionNs="com.intellij">
    <postStartupActivity
      implementation="org.aya.intellij.lsp.AyaStartup"/>

    <fileType
      name="Aya File"
      implementationClass="org.aya.intellij.AyaFileType"
      language="Aya"
      extensions="aya"/>

    <lang.parserDefinition
      language="Aya"
      implementationClass="org.aya.intellij.parser.AyaParserDefinition"/>

    <annotator
      language="Aya"
      implementationClass="org.aya.intellij.actions.SemanticHighlight"/>
    <inspectionToolProvider
      implementation="org.aya.intellij.inspection.AyaInspection$Provider"/>
    <lang.namesValidator
      language="Aya"
      implementationClass="org.aya.intellij.parser.AyaNamesValidator"/>

    <lang.syntaxHighlighterFactory
      language="Aya"
      implementationClass="org.aya.intellij.parser.AyaParserDefinition"/>

    <configurationType
      implementation="org.aya.intellij.run.AyaTyckRunConfigType"/>
    <runConfigurationProducer
      implementation="org.aya.intellij.run.AyaTyckRunConfigProducer"/>

    <runLineMarkerContributor
      language="Aya"
      implementationClass="org.aya.intellij.run.AyaRunLineMarkerContributor"/>

    <psi.referenceContributor
      implementation="org.aya.intellij.actions.ReferenceContributor"/>
    <lang.findUsagesProvider
      language="Aya"
      implementationClass="org.aya.intellij.actions.FindUsages"/>
    <lang.refactoringSupport
      language="Aya"
      implementationClass="org.aya.intellij.actions.RefactoringSupport"/>

    <colorSettingsPage
      implementation="org.aya.intellij.settings.AyaColorSettingsPage"/>

    <additionalTextAttributes
      scheme="Darcula"
      file="colorSchemes/ayaSyntaxHighlight.xml"/>

    <applicationConfigurable
      parentId="language"
      instance="org.aya.intellij.settings.AyaSettingsConfigurable"
      id="org.aya.intellij.settings.AyaSettingsConfigurable"
      displayName="Aya Prover"/>

    <applicationService
      serviceImplementation="org.aya.intellij.settings.AyaSettingsState"/>

    <toolWindow
      factoryClass="org.aya.intellij.ui.AyaToolWindow"
      id="Aya Prover"
      anchor="right"/>

    <projectService
      serviceImplementation="org.aya.intellij.lsp.ProblemService"/>
  </extensions>
</idea-plugin>
